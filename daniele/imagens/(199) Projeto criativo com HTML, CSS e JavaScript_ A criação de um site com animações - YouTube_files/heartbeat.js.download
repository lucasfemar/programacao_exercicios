(function(g){var window=this;'use strict';var jsw=function(f,I){if(!Number.isFinite(f))return String(f);f=String(f);var G=f.indexOf(".");G===-1&&(G=f.length);var c=f[0]==="-"?"-":"";c&&(f=f.substring(1));return c+(0,g.DvL)("0",Math.max(0,I-G))+f},KgZ=function(){return{V:"svg",
D:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},S:[{V:"path",D:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},J_7=function(){return{V:"svg",
D:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},S:[{V:"path",D:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},zZL=function(f){typeof f==="number"?(this.date=UqL(f,0,1),Bx(this,1)):g.Iu(f)?(this.date=UqL(f.getFullYear(),f.getMonth(),f.getDate()),Bx(this,f.getDate())):(this.date=new Date(g.tL()),f=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),Bx(this,f))},UqL=function(f,I,G){I=new Date(f,I,G);
f>=0&&f<100&&I.setFullYear(I.getFullYear()-1900);return I},Bx=function(f,I){f.getDate()!=I&&f.date.setUTCHours(f.date.getUTCHours()+(f.getDate()<I?1:-1))},L2=function(f,I){g.nA.call(this,f,{V:"div",
K:"ytp-reminder-menu",D:{role:"menu",tabindex:"-1"},S:[{V:"div",K:"ytp-reminder-menu-contents",S:[{V:"div",K:"ytp-reminder-menu-items"}]}]},100,!0);this.U=I;this.Z=[];this.menuPopupRenderer=void 0;this.items=this.Gq("ytp-reminder-menu-items");this.hide()},hZ$=function(f){return(f.menuPopupRenderer&&f.menuPopupRenderer.items||[]).reduce(function(I,G){G&&G.menuServiceItemRenderer&&I.push(G.menuServiceItemRenderer);
return I},[])},Wx=function(f){g.T.call(this,{V:"div",
S:[{V:"button",kM:["ytp-offline-slate-button","ytp-button"],S:[{V:"div",K:"ytp-offline-slate-button-icon",EH:"{{icon}}"},{V:"div",K:"ytp-offline-slate-button-text",EH:"{{text}}"}]}]});this.L=f;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.W=void 0;this.G=this.U=null;(this.J=this.Gq("ytp-offline-slate-button"))&&this.C(this.J,"click",this.Y);this.hide()},Dqu=function(f,I,G){!f.toggleButtonRenderer&&I&&I.toggleButtonRenderer?f.toggleButtonRenderer=I.toggleButtonRenderer:
I&&I.toggleButtonRenderer||(f.toggleButtonRenderer=null);
!f.upcomingEventReminderButtonRenderer&&G&&g.d(G,MTZ)?f.upcomingEventReminderButtonRenderer=g.d(G,MTZ):G&&g.d(G,MTZ)||(f.upcomingEventReminderButtonRenderer=null);oU(f)},oU=function(f){if(f.toggleButtonRenderer){var I=f.toggleButtonRenderer;
if(I.isToggled){var G=I.toggledText?g.WB(I.toggledText):"";f.update({text:G,icon:FgV(I.toggledIcon)})}else G=I.defaultText?g.WB(I.defaultText):"",f.update({text:G,icon:FgV(I.defaultIcon)});f.show()}else f.upcomingEventReminderButtonRenderer?(I=ZL$(f))?(G=I.text?g.WB(I.text):"",f.update({text:G,icon:FgV(I.icon)}),f.show()):f.hide():f.hide()},RZk=function(f,I,G){f.G||(f.G=new g.Pa(f.L.X().bJ));
var c={context:g.aS(f.G.config_||g.u_())};g.hO()&&(c.context.clientScreenNonce=g.hO());c.params=G;g.pa(f.G,I,c,{timeout:5E3,onSuccess:function(){f.upcomingEventReminderButtonRenderer&&f.W&&(f.upcomingEventReminderButtonRenderer.currentState=f.W,f.W=void 0)},
onError:function(){gsy(f)},
onTimeout:function(){gsy(f)}})},gsy=function(f){f.toggleButtonRenderer?(f.toggleButtonRenderer.isToggled=!f.toggleButtonRenderer.isToggled,oU(f)):f.upcomingEventReminderButtonRenderer&&(f.W=void 0,oU(f))},FgV=function(f){if(!f)return null;
switch(f.iconType){case "NOTIFICATIONS":return KgZ();case "NOTIFICATIONS_NONE":return J_7();case "NOTIFICATIONS_ACTIVE":return g.hj();default:return null}},ZL$=function(f){if(!f.upcomingEventReminderButtonRenderer)return null;
var I=f.W||f.upcomingEventReminderButtonRenderer.currentState;f=g.Y(f.upcomingEventReminderButtonRenderer.states||[]);for(var G=f.next();!G.done;G=f.next())if((G=g.d(G.value,VTu))&&G.state===I&&G.button&&g.d(G.button,g.T7))return g.d(G.button,g.T7);return null},r_L=function(f){g.T.call(this,{V:"div",
K:"ytp-offline-slate",S:[{V:"div",K:"ytp-offline-slate-background"},{V:"div",K:"ytp-offline-slate-bar",S:[{V:"span",K:"ytp-offline-slate-icon",S:[{V:"svg",D:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},S:[{V:"path",D:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{V:"circle",D:{cx:"12",cy:"12",r:"3"}}]}]},{V:"span",K:"ytp-offline-slate-messages",S:[{V:"div",K:"ytp-offline-slate-main-text",D:{"aria-label":"{{label}}"},EH:"{{mainText}}"},{V:"div",K:"ytp-offline-slate-subtitle-text",EH:"{{subtitleText}}"}]},{V:"span",K:"ytp-offline-slate-buttons"}]},{V:"button",kM:["ytp-offline-slate-close-button","ytp-button"],S:[g.KC()]},{V:"button",kM:["ytp-offline-slate-open-button","ytp-button"],S:[g.jv()]}]});var I=this;this.api=f;this.U=this.W=null;this.background=this.Gq("ytp-offline-slate-background");
this.Z=this.Gq("ytp-offline-slate-bar");this.J=new g.b9(function(){g.Nu(I.Z,"ytp-offline-slate-bar-fade")},15E3);
this.Y=!1;this.G=new g.b9(function(){g.Nu(I.element,"ytp-offline-slate-collapsed")},15E3);
g.r(this,this.G);g.r(this,this.J);this.countdownTimer=new g.b9(this.D6,1E3,this);this.C(f,"presentingplayerstatechange",this.bd);this.C(f,"livestatedata",this.Rt);this.C(this.Gq("ytp-offline-slate-close-button"),"click",function(){g.Nu(I.element,"ytp-offline-slate-collapsed")});
this.C(this.Gq("ytp-offline-slate-open-button"),"click",function(){g.it(I.element,"ytp-offline-slate-collapsed")});
this.hide();f=this.getVideoData();f.getPlayerResponse()&&(f=f.getPlayerResponse().playabilityStatus)&&this.Rt(f);f=this.api.getPresentingPlayerType()===8&&!this.getVideoData().EN;var G=this.api.getPresentingPlayerType()===8;g.ut(this.element,"ytp-offline-slate-premiere-trailer",f);g.ut(this.element,"ytp-offline-slate-hide-background",G)},vsL=function(f,I,G){if(I){var c=I.subtitleText!=null?g.WB(I.subtitleText):"";
G=G?G:I.mainText!=null?g.WB(I.mainText):"";var P,p,e,O;I=(O=(P=I.mainText)==null?void 0:(p=P.accessibility)==null?void 0:(e=p.accessibilityData)==null?void 0:e.label)!=null?O:G;f.update({mainText:G,subtitleText:c,label:I});g.ut(f.element,"ytp-offline-slate-single-text-line",!c);g.ut(f.Z,"ytp-offline-slate-bar-hidden",!G&&!c)}},qn=function(f,I){var G=(0,g.A)();
this.trigger=f;this.U=I;this.Z=G},ssu=function(f){g.w0.call(this,f);
var I=this;this.Y=!1;this.N=0;this.B=!1;this.W=new g.b9(function(){dqU(I)},0);
this.U=this.heartbeatParams=null;this.G=!1;this.J=new g.rH(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.uH=new g.Pa(void 0);this.attestationResponse=Promise.resolve(void 0);this.T=Promise.resolve(void 0);this.utcOffsetMinutes=-(new zZL).getTimezoneOffset();this.Z=new g.yE(this);g.r(this,this.W);g.r(this,this.Z);y_$(this);A_$(this);this.Z.C(f,"heartbeatparams",this.p5);this.Z.C(f,"presentingplayerstatechange",this.P6);this.Z.C(f,"videoplayerreset",this.Lj);this.Z.C(f,g.iC("heartbeat"),
this.onCueRangeEnter);this.G&&this.U&&TZL(this,void 0,this.U);var G=new g.H_(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),c=new g.H_(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});f.by([G,c]);nsV(this)},nsV=function(f){var I=f.getVideoData();
!I.j("use_rta_for_player")&&I.TE&&(I=I.botguardData)&&g.X8(I,f.player.X())},XQZ=function(f){var I,G;
return g.Z(function(c){if(c.W==1)return g.D(c,g.MlB(),2);if(!c.U)return f.sequenceNumber>=3?c.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):c.return(void 0);I=f.getVideoData();G={};return c.return(g.hlT((G.cpn=I.clientPlaybackNonce,G.encryptedVideoId=I.videoId||"",G),1500))})},y_$=function(f){var I=f.getVideoData();
if(I.TE)if(I.j("use_rta_for_player"))f.attestationResponse=XQZ(f);else if(I=new g.rI9(I),g.T2.isInitialized()||f.sequenceNumber>=3){var G=Promise,c=G.resolve,P=null;if(I.videoData.tP){var p=g.vHT(I);if(p){P={};var e={};p=p.split("&");p=g.Y(p);for(var O=p.next();!O.done;O=p.next())O=O.value.split("="),O.length===2&&(e[O[0]]=O[1]);e.r1a&&(P.webResponse=e.r1a);e.r1c&&(P.error=Esw[Number(e.r1c)]);P.challenge=I.videoData.tP}}f.attestationResponse=c.call(G,P||void 0)}},mq7=function(f){var I=f.getVideoData();
if(!g.oX(f.getVideoData())||I.c8)return!1;if(I.B){f=I.B.flavor==="playready"&&I.j("html5_innertube_heartbeats_for_playready");var G=I.B.flavor==="widevine"&&I.j("html5_innertube_heartbeats_for_widevine");I=g.bu(I.B)&&I.j("html5_innertube_heartbeats_for_fairplay");return!(f||G||I)}return!0},CYL=function(f){if(mq7(f))return!!f.heartbeatParams;
var I=f.getVideoData();return!g.oX(f.getVideoData())||I.yW||I.IE?!!I.heartbeatToken:!1},jJ=function(f,I){if(!f.W.isActive()&&f.Y){var G=f.getVideoData();
if(CYL(f)||G.isLivePlayback){if(I===void 0)if(f.B)if(f.G)I=7500;else{var c;I=((c=f.heartbeatParams)==null?0:c.interval)?f.heartbeatParams.interval*1E3:f.getVideoData().hx||6E4}else I=1E3;f.W.start(I)}}},IXE=function(f,I,G){I.t$&&(G=g.U7(G,{internalipoverride:I.t$}));
var c={cpn:I.clientPlaybackNonce};I.contextParams&&(c.context_params=I.contextParams);I.qw&&(c.kpt=I.qw);G=g.U7(G,c);g.Un(G,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(P){if(!f.W.isActive()&&K2(f)){f.J.reset();f.sequenceNumber++;P=P.responseText;var p=Qsy(P);if(p){f.player.Xw("onHeartbeat",p);var e=p.status==="ok"?p.stop_heartbeat?2:0:p.status==="stop"?1:p.status==="live_stream_offline"?0:-1}else e=(e=P.match(bLy))?e[1]==="0"?0:1:-1;fX7(f,void 0,p,P,e)}},
onError:function(P){K2(f)&&JR(f,!0,"net-"+P.status)},
onTimeout:function(){K2(f)&&JR(f,!0,"timeout")},
withCredentials:!0})},dqU=function(f){var I,G;
g.Z(function(c){I=f.player.X();G=f.getVideoData();if(!K2(f))return c.return();if(mq7(f))return Gdw(f,I,G),c.iH(0);y_$(f);return g.D(c,cgk(f,I,G),0)})},Gdw=function(f,I,G){var c;
if((c=f.heartbeatParams)!=null&&c.url){var P=g.U7(f.heartbeatParams.url,{request_id:g.Upp()});G.It&&(P=g.U7(P,{vvt:G.It}),G.mdxEnvironment&&(P=g.U7(P,{mdx_environment:G.mdxEnvironment})));g.x2(I,G.oauthToken).then(function(p){p&&(P=g.U7(P,{access_token:p}));IXE(f,G,P)})}},K2=function(f){var I=f.getVideoData();
return f.player.getPresentingPlayerType()===3||g.X(f.player.getPlayerStateObject(f.getPlayerType()),4)?!1:CYL(f)||I.isLivePlayback?!0:(UZ(f),!1)},cgk=function(f,I,G){var c,P,p,e,O,N,H,x,S,u,a,k,B,L,K,q,h,F,v,E;
return g.Z(function(n){if(n.W==1)return c="player/heartbeat",p={videoId:G.videoId,sequenceNumber:f.sequenceNumber,heartbeatServerData:(P=f.WH)!=null?P:G.heartbeatServerData},f.T=f.attestationResponse,G.TE?g.D(n,f.T,3):n.iH(2);n.W!=2&&(p.attestationResponse=n.U);e=g.HX(G);N=(O=e.client)!=null?O:{};N.utcOffsetMinutes=f.utcOffsetMinutes;p.context=e;p.cpn=G.clientPlaybackNonce;if(H=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)N.timeZone=H;x={heartbeatChecks:[]};
if(S=G.getPlayerResponse())G.heartbeatToken&&(p.heartbeatToken=G.heartbeatToken),(u=S.playabilityStatus)&&(a=u.liveStreamability)&&a.liveStreamabilityRenderer&&x.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");G.heartbeatToken&&x.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.MT(I)&&(x.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),k=Pku(f),B={},k!==null&&(B.clientPlayerPositionUtcMillis=k),K=(L=f.player.Gl())==null?void 0:g.zh(L),h=((q=K)==null?void 0:q.freePreviewWatchedDuration)||
0,h>0&&(B.freePreviewWatchedDuration={seconds:""+h}),x.unpluggedParams=B);p.heartbeatRequestParams=x;G.isLivePlayback?(F=Pku(f),F!==null&&(p.playbackState||(p.playbackState={}),p.playbackState.playbackPosition={utcTimeMillis:F})):I.j("enable_heartbeat_vod_playback_position")&&(v=pdJ(f),v!==null&&(p.playbackState||(p.playbackState={}),p.playbackState.playbackPosition={streamTimeMillis:v}));f.player.publish("heartbeatRequest",p);E={timeout:3E4,onSuccess:function(GT){if(!f.W.isActive()&&K2(f)){var Pp=
f.getVideoData(),fY=Pp.TE&&f.T==null,eM;Pp.TE=!((eM=GT.heartbeatAttestationConfig)==null||!eM.requiresAttestation)||fY;fY=GT.playabilityStatus;eM=JSON.stringify(fY)||"{}";GT.authenticationMismatch&&f.player.pZ("authshear",{});var C=-1;var kd=GT.playabilityStatus;kd&&(f.player.Xw("onHeartbeat",kd),kd.status==="OK"?C=GT.stopHeartbeat?2:0:kd.status==="UNPLAYABLE"?C=1:kd.status==="LIVE_STREAM_OFFLINE"&&(C=0));f.sequenceNumber&&C===-1||f.J.reset();f.sequenceNumber++;GT.heartbeatServerData&&(f.WH=GT.heartbeatServerData);
Pp.kR=GT;(kd=GT.playerCueRangeSet)&&g.Gj(Pp,kd);GT.playerCueRanges&&GT.playerCueRanges.length>0&&(Pp.cueRanges=GT.playerCueRanges);var qv,FB;((qv=GT.progressBarConfig)==null?0:qv.progressBarStartPosition)&&((FB=GT.progressBarConfig)==null?0:FB.progressBarEndPosition)&&(Pp.progressBarStartPosition=GT.progressBarConfig.progressBarStartPosition,Pp.progressBarEndPosition=GT.progressBarConfig.progressBarEndPosition);Pp.compositeLiveIngestionOffsetToken=GT.compositeLiveIngestionOffsetToken;GT.compositeLiveStatusToken!==
Pp.compositeLiveStatusToken&&(Pp.compositeLiveStatusToken=GT.compositeLiveStatusToken);Pp.publish("dataupdated");fX7(f,GT,fY,eM,C)}},
onError:function(GT){K2(f)&&JR(f,!0,"net-"+GT.status)},
onTimeout:function(){K2(f)&&JR(f,!0,"timeout")}};
g.x2(I,g.Ar(G)).then(function(GT){GT&&(E.mM="Bearer "+GT);g.pa(f.uH,c,p,E)});
g.Bp(n)})},fX7=function(f,I,G,c,P){P===-1?(G="decode "+g.td(c,3),JR(f,!1,G)):P===2?(UZ(f),f.B=!0):(f.N=0,f.W.stop(),P===1?(f.B=!1,G&&G.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&f.player.QW(!0),P="pe."+(G==null?void 0:G.errorCode)+";ps."+(G==null?void 0:G.status),f.player.Zt("heartbeat.stop",2,f.Wc(c),P),g.SB("heartbeatActionPlayerHalted",eTk(G)),(I==null?0:I.videoTransitionEndpoint)&&G&&(I=I.videoTransitionEndpoint,(c=g.d(I,g.PY))&&tgk(f,c,G,{itct:I==null?void 0:I.clickTrackingParams}))):(f.B=
!0,c=0,f.G&&G&&(c=TZL(f,I,G),f.player.publish("livestatedata",G)),c?jJ(f,c):jJ(f)))},TZL=function(f,I,G){var c=G.liveStreamability&&G.liveStreamability.liveStreamabilityRenderer,P=!(!c||!(c.switchStreamsImmediately||c.transitionTiming&&c.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
I=OX7(f,I,c);var p=f.getVideoData(),e=f.player.getPlayerStateObject(f.getPlayerType()),O=e.isPlaying()&&!g.hr(p)&&!f.player.isAtLiveHead(f.getPlayerType());if(p.X().qy()){var N,H=((N=f.player.e5())==null?void 0:N.b1())||{};H.status=G.status||"";H.dvr=""+ +O;H["switch"]=""+ +P;H.ended=""+ +!(!c||!c.displayEndscreen);f.player.pZ("heartbeat",H)}N=f.player.j("always_cache_redirect_endpoint");if(O&&!P&&!N)return I;H=c&&c.streamTransitionEndpoint&&g.d(c.streamTransitionEndpoint,g.PY);var x=c&&c.transitionTiming;
if(x==="STREAM_TRANSITION_TIMING_AT_STREAM_END")f.getVideoData().transitionEndpointAtEndOfStream=H;else if(N&&!H&&f.getVideoData().transitionEndpointAtEndOfStream)f.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!N&&H&&tgk(f,H,G))return I;if(O&&!P&&N||N&&H&&(x==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||x==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&tgk(f,H,G))return I;if(G.status.toUpperCase()==="OK"){P=c&&c.broadcastId;O=f.U&&f.U.liveStreamability&&f.U.liveStreamability.liveStreamabilityRenderer&&
f.U.liveStreamability.liveStreamabilityRenderer.broadcastId;N=P!==O&&P!=null;if(!g.Jr(p)||N){var S={video_id:p.videoId};p.LS&&(S.is_live_destination="1");S.disable_watch_next=!0;S.raw_watch_next_response=p.getWatchNextResponse();S.autonav_state=p.autonavState;S.oauth_token=p.oauthToken;S.HW=p.HW;p.J&&(S.vss_credentials_token=p.J,S.vss_credentials_token_type=p.fD);p.It&&(S.vvt=p.It);c=void 0;g.Jr(p)?N&&(c=new qn("broadcastIdChanged",O+","+P),f.EQ("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
G)):(P&&(c=new qn("formatsReceived",""+P)),f.EQ("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",G));f.player.loadVideoByPlayerVars(S,void 0,void 0,void 0,c);return I}f.player.TO("heartbeat",f.getPlayerType())}c&&c.displayEndscreen&&(f.offlineSlate?(f=f.offlineSlate,f.Y=!0,f.u1&&f.api.Ho()):e.isBuffering()&&(p=((S=f.player.e5())==null?void 0:S.b1())||{},f.player.pZ("hbse",p,!0),f.player.Ho(),f.player.Xw("onLiveMediaEnded",G)));return I},OX7=function(f,
I,G){return f.player.j("web_player_use_heartbeat_poll_delay_ms")&&(f=Number(I==null?void 0:I.pollDelayMs))?f:(G=Number(G==null?void 0:G.pollDelayMs))?G:0},JR=function(f,I,G){var c=f.player.X();
if(!f.W.isActive()){f.W.stop();f.N++;var P=I?"heartbeat.net":"heartbeat.servererror";var p=f.getVideoData();if(p.jw||I&&!g.oX(f.getVideoData())&&!CYL(f)&&p.isLivePlayback)p=!1;else{var e,O;((O=f.heartbeatParams)==null?0:O.retries)?e=f.heartbeatParams.retries:e=p.nP||5;p=f.N>=e}p?(g.SB("heartbeatActionPlayerHalted",I?{enforcedPolicyToHaltOnNetworkFailure:!0}:eTk()),(I=f.getVideoData())&&I.isLivePlayback?f.player.Zt(P,1,"Reprodu\u00e7\u00e3o de v\u00eddeo interrompida. Tente novamente.",G):f.player.Zt(P,
1,"Ocorreu um erro ao licenciar este v\u00eddeo.",G)):(c.j("html5_report_non_fatal_heartbeat_error")&&f.player.nH(P,{msg:G}),jJ(f,f.J.getValue()),g.vK(f.J))}},eTk=function(f){var I={enforcedPolicyToHaltOnNetworkFailure:!1};
f&&(I.serializedServerContext=f.additionalLoggingData);return I},UZ=function(f){f.N=0;
f.W.stop();f.B=!1;f.sequenceNumber=0},A_$=function(f){var I=f.getVideoData(),G=f.player.X();
if(I.isLivePlayback)if(g.xt(G.B)){f.G=!0;f.Y=!0;if(!g.Fh(G)||g.MT(G))f.offlineSlate=new r_L(f.player),g.r(f,f.offlineSlate),g.Vb(f.player,f.offlineSlate.element,4);(I=I.getPlayerResponse())&&I.playabilityStatus&&(f.U=I.playabilityStatus);var c;((c=f.U)==null?void 0:c.status)!=="UNPLAYABLE"&&(f.U?(c=OX7(f,void 0,f.U.liveStreamability&&f.U.liveStreamability.liveStreamabilityRenderer))?jJ(f,c):jJ(f,7500):jJ(f,1E3))}else f.player.Zt("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.lZ(I.WH,"heartbeat")&&f.player.TO("heartbeat",f.getPlayerType())},tgk=function(f,I,G,c){var P=I&&I.videoId;
return P?(f.player.uZ(P,Object.assign({},{autonav:"1"},c||{}),void 0,!0,!0,I,g.Ar(f.getVideoData())),f.EQ("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",G),!0):!1},Pku=function(f){return(f=f.player.getProgressState(f.getPlayerType()).ingestionTime)&&isFinite(f)?""+Math.floor(f*1E3):null},pdJ=function(f){return(f=f.player.getCurrentTime(f.getPlayerType()))&&isFinite(f)?""+Math.floor(f*1E3):null},Qsy=function(f){try{var I=JSON.parse(f);
return I!=null?I:void 0}catch(G){}},NnL={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
NnL={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","depois de Cristo"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),STANDALONEMONTHS:"janeiro fevereiro mar\u00e7o abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),SHORTMONTHS:"jan. fev. mar. abr. mai. jun. jul. ago. set. out. nov. dez.".split(" "),STANDALONESHORTMONTHS:"jan. fev. mar. abr. mai. jun. jul. ago. set. out. nov. dez.".split(" "),
WEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo segunda-feira ter\u00e7a-feira quarta-feira quinta-feira sexta-feira s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom. seg. ter. qua. qui. sex. s\u00e1b.".split(" "),STANDALONESHORTWEEKDAYS:"dom. seg. ter. qua. qui. sex. s\u00e1b.".split(" "),NARROWWEEKDAYS:"DSTQQSS".split(""),STANDALONENARROWWEEKDAYS:"DSTQQSS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1\u00ba trimestre",
"2\u00ba trimestre","3\u00ba trimestre","4\u00ba trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d 'de' MMM 'de' y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} '\u00e0s' {0}","{1} '\u00e0s' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
var Esw=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],HX7={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.l=zZL.prototype;g.l.zB=NnL.FIRSTDAYOFWEEK;g.l.AA=NnL.FIRSTWEEKCUTOFFDAY;
g.l.clone=function(){var f=new zZL(this.date);f.zB=this.zB;f.AA=this.AA;return f};
g.l.getFullYear=function(){return this.date.getFullYear()};
g.l.getYear=function(){return this.getFullYear()};
g.l.getMonth=function(){return this.date.getMonth()};
g.l.getDate=function(){return this.date.getDate()};
g.l.getTime=function(){return this.date.getTime()};
g.l.getDay=function(){return this.date.getDay()};
g.l.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.l.getUTCMonth=function(){return this.date.getUTCMonth()};
g.l.getUTCDate=function(){return this.date.getUTCDate()};
g.l.getUTCDay=function(){return this.date.getDay()};
g.l.getUTCHours=function(){return this.date.getUTCHours()};
g.l.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.l.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.l.set=function(f){this.date=new Date(f.getFullYear(),f.getMonth(),f.getDate())};
g.l.setFullYear=function(f){this.date.setFullYear(f)};
g.l.setYear=function(f){this.setFullYear(f)};
g.l.setMonth=function(f){this.date.setMonth(f)};
g.l.setDate=function(f){this.date.setDate(f)};
g.l.setTime=function(f){this.date.setTime(f)};
g.l.setUTCFullYear=function(f){this.date.setUTCFullYear(f)};
g.l.setUTCMonth=function(f){this.date.setUTCMonth(f)};
g.l.setUTCDate=function(f){this.date.setUTCDate(f)};
g.l.add=function(f){if(f.years||f.months){var I=this.getMonth()+f.months+f.years*12,G=this.getYear()+Math.floor(I/12);I%=12;I<0&&(I+=12);a:{switch(I){case 1:var c=G%4!=0||G%100==0&&G%400!=0?28:29;break a;case 5:case 8:case 10:case 3:c=30;break a}c=31}c=Math.min(c,this.getDate());this.setDate(1);this.setFullYear(G);this.setMonth(I);this.setDate(c)}f.days&&(G=this.getYear(),I=G>=0&&G<=99?-1900:0,f=new Date((new Date(G,this.getMonth(),this.getDate(),12)).getTime()+f.days*864E5),this.setDate(1),this.setFullYear(f.getFullYear()+
I),this.setMonth(f.getMonth()),this.setDate(f.getDate()),Bx(this,f.getDate()))};
g.l.equals=function(f){return!(!f||this.getYear()!=f.getYear()||this.getMonth()!=f.getMonth()||this.getDate()!=f.getDate())};
g.l.toString=function(){var f=this.getFullYear(),I=f<0?"-":f>=1E4?"+":"";return[I+jsw(Math.abs(f),I?6:4),jsw(this.getMonth()+1,2),jsw(this.getDate(),2)].join("")+""};
g.l.valueOf=function(){return this.date.valueOf()};var xXu=new g.zM("addUpcomingEventReminderEndpoint");var iXy=new g.zM("removeUpcomingEventReminderEndpoint");var SpL=new g.zM("updateUpcomingEventReminderButtonStateCommand");var MTZ=new g.zM("upcomingEventReminderButtonRenderer"),VTu=new g.zM("upcomingEventReminderButtonStateRenderer");g.w(L2,g.nA);
L2.prototype.updateMenuItems=function(){var f=this,I=hZ$(this),G=0;G=0;for(var c={};G<I.length;c={eR:void 0},G++){var P=this.Z[G];P||(P=new g.T({V:"div",K:"ytp-reminder-menu-item",D:{role:"menuitem",tabindex:"0"},S:[{V:"div",K:"ytp-reminder-menu-item-icon",EH:"{{icon}}"},{V:"div",K:"ytp-reminder-menu-item-label",EH:"{{text}}"}]}),c.eR=G,P.listen("click",function(e){return function(){var O=e.eR;f.L0();O=hZ$(f)[O];f.publish("reminderMenuItemClicked",O.serviceEndpoint||O.command)}}(c)),P.sH(this.items),
this.Z[G]=P);
var p=I[G];c=null;switch(p.icon&&p.icon.iconType){case "NOTIFICATIONS":c=KgZ();break;case "NOTIFICATIONS_NONE":c=J_7();break;case "NOTIFICATIONS_ACTIVE":c=g.hj()}p=p.text?g.WB(p.text):"";P.update({icon:c,text:p})}for(;G<this.Z.length;)this.Z.pop().dispose();G===0?this.L0():this.Hg(this.U)};
L2.prototype.hide=function(){this.U&&this.U.removeAttribute("aria-haspopup");g.nA.prototype.hide.call(this)};
L2.prototype.show=function(){this.U&&this.U.setAttribute("aria-haspopup","true");g.nA.prototype.show.call(this)};
L2.prototype.eF=function(){g.as(this.Z);g.nA.prototype.eF.call(this)};g.w(Wx,g.T);
Wx.prototype.Y=function(){if(this.toggleButtonRenderer){var f=this.toggleButtonRenderer;f.isToggled?this.Z(f.toggledServiceEndpoint):this.Z(f.defaultServiceEndpoint);f.isToggled=!f.isToggled;oU(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.U&&this.U.u1)this.U.L0();else{var I=ZL$(this);I&&this.Z(I.serviceEndpoint||I.command);I=((f=g.d(I==null?void 0:I.command,g.qz))==null?void 0:f.commands)||[];a:{f=g.Y(I);for(var G=f.next();!G.done;G=f.next()){var c=I=void 0;if(G=(I=g.d(G.value,g.guu))==
null?void 0:(c=I.popup)==null?void 0:c.menuPopupRenderer){f=G;break a}}f=void 0}this.U||(this.U=new L2(this.L,this.J),this.U.sH(this.element),g.r(this,this.U),this.U.subscribe("reminderMenuItemClicked",this.Z,this));I=this.U;I.menuPopupRenderer=f;I.updateMenuItems()}};
Wx.prototype.Z=function(f){var I=g.d(f,xXu),G=g.d(f,iXy);if(f&&(I||G)){if(I){var c=I;var P="notification/add_upcoming_event_reminder"}else G&&(c=G,P="notification/remove_upcoming_event_reminder");if(P&&c&&c.params)for(RZk(this,P,c.params),f=g.Y(c.commands||[]),I=f.next();!I.done;I=f.next())if((I=I.value)&&g.d(I,SpL)){this.W=g.d(I,SpL).state;oU(this);break}}};g.w(r_L,g.T);g.l=r_L.prototype;g.l.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.l.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.l.Rt=function(f){var I,G,c=f==null?void 0:(I=f.liveStreamability)==null?void 0:(G=I.liveStreamabilityRenderer)==null?void 0:G.offlineSlate;if(c){this.W=f;I=c.liveStreamOfflineSlateRenderer;I.canShowCountdown?this.D6():vsL(this,I);var P,p,e,O;if(G=f==null?void 0:(P=f.liveStreamability)==null?void 0:(p=P.liveStreamabilityRenderer)==null?void 0:(e=p.offlineSlate)==null?void 0:(O=e.liveStreamOfflineSlateRenderer)==null?void 0:O.thumbnail){P=0;p=null;e=G.thumbnails;for(O=0;O<e.length;O++)e[O].width>
P&&(P=e[O].width||0,p=e[O].url);p&&(this.background.style.backgroundImage="url("+p+")")}else this.background.style.backgroundImage="";I.actionButtons||I.reminderButton?(this.U||(this.U=new Wx(this.api),this.U.sH(this.Gq("ytp-offline-slate-buttons")),g.r(this,this.U)),Dqu(this.U,I.actionButtons&&I.actionButtons[0],I.reminderButton)):this.U&&Dqu(this.U,null,null);this.W=f}else this.W=null;this.bd()};
g.l.bd=function(f){if(this.api.getPresentingPlayerType()===8)var I=!0;else{var G=this.api.getPlayerStateObject(),c=this.getVideoData();I=c.isLivePlayback&&(G.isBuffering()||g.X(G,2)||g.X(G,64));var P=c.autonavState===2&&g.X(G,2);G=G.isPlaying()&&!g.hr(c)&&!this.api.isAtLiveHead(void 0,!0);I=I&&!G&&!P}I&&this.W?this.u1?(f==null?0:g.WC(f,2))&&!this.getVideoData().EN&&(g.it(this.element,"ytp-offline-slate-collapsed"),this.G.stop(),g.it(this.Z,"ytp-offline-slate-bar-fade"),this.J.start()):(this.show(),
this.G.start(),this.api.publish("offlineslatestatechange"),this.Y&&this.api.Ho()):this.u1&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.l.D6=function(){var f,I,G,c,P=(f=this.W)==null?void 0:(I=f.liveStreamability)==null?void 0:(G=I.liveStreamabilityRenderer)==null?void 0:(c=G.offlineSlate)==null?void 0:c.liveStreamOfflineSlateRenderer;P&&(f=Math.floor(g.tL()/1E3),I=P.canShowCountdown&&Number(P.scheduledStartTime),!I||I<=f?(vsL(this,P),this.countdownTimer.stop()):(vsL(this,P,g.Mz(I-f)),g.fB(this.countdownTimer)))};
g.l.eF=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.T.prototype.eF.call(this)};qn.prototype.W=function(f){return this.trigger&&f.trigger?this.trigger===f.trigger&&this.U===f.U:!1};
qn.prototype.isExpired=function(){return(0,g.A)()-this.Z>6E4};
qn.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.U};g.w(ssu,g.w0);g.l=ssu.prototype;g.l.eF=function(){UZ(this);this.player.LG("heartbeat");g.w0.prototype.eF.call(this)};
g.l.onCueRangeEnter=function(){this.Y=!0;jJ(this,2E3)};
g.l.p5=function(f){this.heartbeatParams=f;jJ(this,2E3)};
g.l.P6=function(f){var I;this.player.getPresentingPlayerType()!==8&&((I=this.U)==null?void 0:I.status)!=="UNPLAYABLE"&&(g.X(f.state,2)||g.X(f.state,64)?(UZ(this),this.G&&(this.Y=!0,jJ(this,1E3))):(g.X(f.state,1)||g.X(f.state,8))&&jJ(this,2E3))};
g.l.Lj=function(){this.player.getPresentingPlayerType()!==3&&jJ(this,2E3)};
g.l.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.l.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.l.g4=function(f){switch(f){case 4:case 3:return!1}return!0};
g.l.EQ=function(f,I,G){f={trigger:f,reason:I};G&&(f.serializedServerContext=G.additionalLoggingData);g.SB("heartbeatActionPlayerTransitioned",f)};
g.l.Wc=function(f){var I="LICENSE",G=Qsy(f);if(G)return G.reason||g.v6[I]||"";if(f=f.match(bLy))if(f=Number(f[1]))I=(I=HX7[f.toString()])?I:"LICENSE";return g.v6[I]||""};
g.l.Za=function(){return!!this.offlineSlate&&this.offlineSlate.u1};
var bLy=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.ly("heartbeat",ssu);})(_yt_player);
